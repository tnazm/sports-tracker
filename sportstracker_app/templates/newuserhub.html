{% extends "base.html" %}

{% block title %}
New_user_hub- HALF-TIME
{% endblock %}

{% block body %}



<section class="bg-gradient-to-b from-black to-sky-700 text-white text-center min-h-screen flex flex-col py-10 px-4">

    {% if user.is_authenticated %}
    <div class="max-w-5xl mx-auto py-0">


      {% if current.user.new == True %}
      <h1 class="text-5xl sm:text-7xl md:text-8xl font-extrabold text-sky-400 mb-6 tracking-tight">
        Welcome! 
      </h1>
      <p class="text-5xl sm:text-7xl md:text-8xl font-extrabold text-sky-400 mb-6 tracking-tight">
          {{ currentuser.user}}
      </p>
      {% else %}
      <h1 class="text-5xl sm:text-7xl md:text-8xl font-extrabold text-sky-400 mb-6 tracking-tight">
        Update your favorite teams
      </h1>

      {% endif %}


      {% if current.user.new == True %}
      <p class="text-lg sm:text-xl text-gray-200 max-w-2xl mx-auto">
            Please select  your favorite teams to get started !
      </p>

      {% else %}
      <p class="text-lg sm:text-xl text-gray-200 max-w-2xl mx-auto">
        select below to update your favorite teams
  </p>

  {% endif %}

    </div>

  <!--Team Selection Code-->

  <!-- Favorite Teams Display -->
  {% if Favorites %}
    <div class="mt-12 bg-gray-800 bg-opacity-70 p-8 rounded-2xl shadow-xl">
      <h2 class="text-3xl font-semibold text-sky-400 mb-6">Your Favorite Teams</h2>
      <ul class="flex flex-wrap justify-center gap-4">
        {% for team in Favorites %}
          <li class="bg-sky-600 px-6 py-3 rounded-lg shadow-md text-white font-semibold hover:bg-sky-500 transition-all duration-200 w-[12rem] text-center">
            {{ team }}
          </li>
        {% endfor %}
      </ul>
    </div>
  {% else %}
    <p class="mt-10 text-gray-300">No favorite teams selected yet.</p>
  {% endif %}





  <div class="mt-12 p-8 w-full max-w-6xl mx-auto">
    <div class="grid grid-cols-[repeat(auto-fit,_minmax(12rem,_1fr))] gap-6">
      {% for team in Teams %}
        <form method="POST" class="inline w-full">
          {% csrf_token %}
          <input type="hidden" name="team" value="{{ team }}">
          {% if team in Favorites %}
            <input type="hidden" name="action" value="remove">
            <button
              class="w-full bg-red-500 hover:bg-red-700 text-white font-bold py-3 rounded focus:outline-none focus:shadow-outline transition-all duration-200 transform hover:scale-105">
              Remove {{ team }}
            </button>
          {% else %}
            <input type="hidden" name="action" value="add">
            <button
              class="w-full bg-blue-500 hover:bg-blue-700  text-white font-bold py-3 rounded focus:outline-none focus:shadow-outline transition-all duration-200 transform hover:scale-105">
              {{ team }}
            </button>
          {% endif %}
         
        </form>
      {% endfor %}


      <button  id="go-next"
      class="w-full bg-green-500 hover:bg-blue-700 text-white font-bold py-3 rounded focus:outline-none focus:shadow-outline transition-all duration-200 transform hover:scale-105">
      Done
    </button>

    </div>
  </div>

  
<script>
   document.getElementById("go-next").onclick =
   function gonext(){

    window.location.href = "{% url 'home' %}";
   }





</script>


{% else %}
<div class="max-w-5xl mx-auto py-0">


    <h1 class="text-5xl sm:text-7xl md:text-8xl font-extrabold text-sky-400 mb-6 tracking-tight">
      YOU'RE NOT ALLOWED HERE LEAVE NOW
    </h1>

</div>

{% endif %}




</section>

{% endblock %}
