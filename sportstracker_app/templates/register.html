{% extends "base.html" %}

{% block title %}
Register - HALF-TIME
{% endblock %}

{% block body %}
<section class="bg-gradient-to-b from-black to-sky-700 text-white text-center min-h-screen flex flex-col items-center justify-center px-4">
  <div class="max-w-5xl mx-auto py-1">
    <h1 class="text-5xl sm:text-7xl md:text-8xl font-extrabold text-sky-400 mb-6 tracking-tight">
      HALF-TIME
    </h1>
    <p class="text-lg sm:text-xl text-gray-200 max-w-2xl mx-auto">
      Register an account to view your favorites.
    </p>
  </div>
  <div> 
    {% if messages %}
    {% for message in messages %}
              {% if message.tags == "success"  %}

                      <div id="overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50">
                        <el-dialog-panel class="relative transform overflow-hidden rounded-lg bg-gray-800 text-left shadow-xl outline -outline-offset-1 outline-white/10 transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95">
                          <div class="bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                            <div class="sm:flex sm:items-start">
                              <!-- <div class="mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6 text-green-400">
                                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                </svg>
                              </div> -->
                              <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                                <h3 id="dialog-title" class="text-2xl font-semibold text-sky-400">Success</h3>
                                <div class="mt-2">
                                  <p class="text-xl text-violet-300">{{message}}.</p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="bg-gray-700/25 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                            <button id="closeModalsuccess" class="bg-sky-400 hover:bg-green-600 text-white text-xl font-bold py-2 px-4 rounded">Login</button>
                          </div>



                        </el-dialog-panel>
                      </div>
                          <script>
                            document.getElementById('closeModalsuccess').onclick = function() {
                              window.location.href = "{% url 'login' %}";
                            }
                          </script>

                          <script>
                            setTimeout(function() {
                              window.location.href = "{% url 'login' %}";
                            }, 6000); // Redirect after 3 seconds
                          </script>

                       
                {% else %}

                <div id="overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50">
                  <el-dialog-panel class="relative transform overflow-hidden rounded-lg bg-gray-800 text-left shadow-xl outline -outline-offset-1 outline-white/10 transition-all data-closed:translate-y-4 data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95">
                    <div class="bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                      <div class="sm:flex sm:items-start">
                        <!-- <div class="mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100">
                          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6 text-green-400">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                          </svg>
                        </div> -->

                     
                        <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                          <h3 id="dialog-title" class="text-2xl font-semibold text-red-500">Failed Account Creation</h3>
                          <div class="mt-2">
                            {% for error in errors %}
                            <li class="text-xl text-violet-300 items-center justify-center">{{error}}</li>
                            <br>
                          {% endfor %}










                            
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="bg-gray-700/25 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                      <button id="closeModalfail" class="bg-red-500 hover:bg-red-700 text-white text-xl font-bold py-2 px-4 rounded">Try again</button>
                    </div>

                  </el-dialog-panel>
                </div>
                    <script>
                      document.getElementById('closeModalfail').onclick = function() {
                        window.location.href = "{% url 'register' %}";
                      }
                    </script>
                    <script>
                      setTimeout(function() {
                        window.location.href = "{% url 'register' %}";
                      }, 10000); // Redirect after 3 seconds
                    </script>



              {% endif %}
    {% endfor %}
  {% endif %}
      </div>
  <div class="rounded-2xl mt-12 p-8  bg-gradient-to-tl from-black to-sky-700 w-full max-w-lg mx-auto backdrop-blur-lg">
 
    <form method="post" style="color: black" >
      {% csrf_token %}


      <br>
       
      <!-- div class="w-full max-w-xs"> -->


      <div class="mb-4">
        <label class="block  text-lg font-bold mb-2 text-violet-300" for="id_email">
          Email
        </label>
        <input class="block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6"id="id_email" type="email" name="email" placeholder="123@Gmail.com"  required> 
      </div>
  
    <div class="mb-4">
      <label class="block text-violet-300 text-lg font-bold mb-2" for="id_username">
      Username 
      </label>
      <input class="block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6" id="id_username" type="text" name="username" placeholder="Username"  required> 
    </div>


    
    <!-- passsword feild-->

    <div class="mb-6">
      <label class="block  text-violet-300 text-lg font-bold mb-2" for="id_password1">
        Password
      </label>
      <input class="block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6" id="id_password1" name="password1" type="password" placeholder="******************" required>
      <p class="text-red-500 text-xs italic">Please choose a password.</p>
    </div>



    <div class="mb-4">
      <label class="block text-violet-300 text-lg font-bold mb-2" for="id_password2">
       Re-enter Password
      </label>
      <input class="block w-full rounded-md bg-white/5 px-3 py-1.5 text-base text-white outline-1 -outline-offset-1 outline-white/10 placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500 sm:text-sm/6" id="id_password2" type="password" name="password2" placeholder="******************"  required> 
    </div>

    <div class="flex items-center justify-between">



      
      <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
        Register
      </button>
      <p style="text-align: right;" class="text-blue-200">Already have an account?


        <a class="text-blue-500 text-lg" " href="{% url 'login' %}">Login</a>
      </p>
   

    </div>

    

 

      


   
    </form>
  </div>
</section>

{% endblock %}